#!/bin/bash

# Check if there's already a Ghostty window on workspace 2
ghostty_on_ws2=$(aerospace list-windows --workspace 2 | grep -i "Ghostty" || true)

# Open new Ghostty window
open -n -a Ghostty

# Wait a moment for the window to appear
sleep 0.2

# If there was already a Ghostty window on workspace 2, move the new one to workspace 3
if [ -n "$ghostty_on_ws2" ]; then
    # Get the most recently focused Ghostty window (should be the new one)
    aerospace move-node-to-workspace 3
fi
